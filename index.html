<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kitamura Digital Watch | 50代からの、狂わない日常着</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700&family=Noto+Sans+JP:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            scroll-behavior: smooth;
            -webkit-text-size-adjust: 100%;
        }
        .serif {
            font-family: 'Noto Serif JP', serif;
        }
        .bg-navy {
            background-color: #0a192f;
        }
        .text-gold {
            color: #d4af37;
        }
        .btn-gold {
            background-color: #d4af37;
            color: #0a192f;
            transition: all 0.3s ease;
        }
        .btn-gold:hover {
            background-color: #f1c40f;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.4);
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-left-color: #d4af37;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        @media (max-width: 768px) {
            h1 { letter-spacing: 0.05em; }
            p { line-height: 1.8; }
        }
    </style>
</head>
<body class="bg-white text-gray-900 overflow-x-hidden">

    <!-- Header -->
    <header class="fixed w-full z-50 bg-navy bg-opacity-95 py-3 md:py-4 px-4 md:px-6 flex justify-between items-center border-b border-gray-800">
        <div class="text-gold font-bold text-lg md:text-xl tracking-widest serif">KITAMURA DIGITAL</div>
        <a href="#cta" class="btn-gold px-4 md:px-6 py-2 rounded text-xs md:text-sm font-bold">購入する</a>
    </header>

    <!-- Hero Section -->
    <section class="relative min-h-screen flex items-center justify-center bg-navy pt-24 pb-12 overflow-hidden">
        <div class="absolute inset-0 opacity-20">
            <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-blue-500 via-transparent to-transparent"></div>
        </div>
        <div class="container mx-auto px-4 md:px-6 relative z-10 text-center">
            <h1 class="serif text-white text-2xl sm:text-3xl md:text-5xl lg:text-6xl leading-tight mb-6 px-2">
                もう、時間に振り回されない。<br>
                <span class="text-gold block mt-2">人生の後半戦を共にする、<br class="hidden md:block">狂わない「究極の日常着」。</span>
            </h1>
            <p class="text-gray-300 text-base md:text-xl mb-8 md:text-xl max-w-2xl mx-auto px-4">
                老眼を言い訳にしない圧倒的な視認性。電池交換の煩わしさからの解放。50代の腕に、揺るぎない正確さを。
            </p>
            <div class="flex flex-col md:flex-row justify-center gap-4 mb-10">
                <a href="#cta" class="btn-gold px-10 py-4 md:px-12 md:py-5 rounded-full text-lg md:text-xl font-bold">今すぐ購入する</a>
            </div>
            
            <!-- Dynamic Image Section -->
            <div class="mt-4 max-w-full md:max-w-2xl mx-auto transform hover:scale-105 transition duration-500 px-2">
                <div class="relative p-1 md:p-2 rounded-2xl glass-card inline-block overflow-hidden shadow-2xl w-full">
                    <div id="image-container" class="relative min-h-[300px] md:min-h-[400px] flex items-center justify-center bg-gray-900 rounded-xl overflow-hidden">
                        <div id="loader-hero" class="flex flex-col items-center">
                            <div class="loading-spinner mb-4"></div>
                            <p class="text-gold text-xs md:text-sm">製品画像を生成中...</p>
                        </div>
                        <img id="main-watch-img" class="hidden w-full h-auto rounded-xl object-cover" alt="Kitamura Digital Watch Premium">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Problem -->
    <section class="py-16 md:py-24 bg-gray-50">
        <div class="container mx-auto px-4 md:px-6">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="serif text-xl md:text-4xl mb-10 md:mb-16">こんな「小さなストレス」を<br class="md:hidden">抱えていませんか？</h2>
                <div class="grid md:grid-cols-2 gap-4 md:gap-8 text-left">
                    <div class="bg-white p-6 md:p-8 rounded-xl shadow-sm border-l-4 border-gray-300">
                        <p class="text-gray-600 mb-3 md:mb-4 font-bold italic text-sm md:text-base">「大事な会議の直前、時計が数分ズレていてヒヤッとした…」</p>
                        <p class="text-xs md:text-sm text-gray-500">50代、時間は何よりの資産。狂う時計は、信頼を損なうリスクです。</p>
                    </div>
                    <div class="bg-white p-6 md:p-8 rounded-xl shadow-sm border-l-4 border-gray-300">
                        <p class="text-gray-600 mb-3 md:mb-4 font-bold italic text-sm md:text-base">「最近、文字盤がぼやけて見にくい。でも、あからさまなシニア向けは嫌だ」</p>
                        <p class="text-xs md:text-sm text-gray-500">デザインを妥協したくない。でも、瞬時に時刻が分からないイライラ。</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Solution Section with Features -->
    <section class="py-16 md:py-24">
        <div class="container mx-auto px-4 md:px-6">
            <div class="text-center mb-12 md:mb-20">
                <span class="text-gold font-bold tracking-widest uppercase text-xs md:text-sm block mb-2">The Solution</span>
                <h2 class="serif text-2xl md:text-5xl px-2">Kitamura Digital Watchが、<br>あなたの腕に「確信」を取り戻します。</h2>
            </div>

            <div class="flex flex-col md:flex-row items-center gap-8 md:gap-12 mb-20 md:mb-24">
                <div class="w-full md:flex-1">
                    <div id="feature-img-1" class="bg-gray-100 aspect-video rounded-2xl flex items-center justify-center overflow-hidden shadow-inner relative">
                        <div class="loading-spinner"></div>
                    </div>
                </div>
                <div class="w-full md:flex-1 text-center md:text-left">
                    <span class="text-gold font-bold text-base md:text-lg mb-2 block">01 / 正確さ</span>
                    <h3 class="serif text-xl md:text-3xl mb-4">1秒の狂いも許さない。<br>最新電波受信チップ搭載。</h3>
                    <p class="text-gray-600 text-sm md:text-base leading-relaxed">
                        日本国内の2つの標準電波を毎日自動受信。常に秒単位で正確な時を刻み続けます。
                    </p>
                </div>
            </div>

            <div class="flex flex-col md:flex-row-reverse items-center gap-8 md:gap-12 mb-20 md:mb-24">
                <div class="w-full md:flex-1">
                    <div id="feature-img-2" class="bg-gray-100 aspect-video rounded-2xl flex items-center justify-center overflow-hidden shadow-inner relative">
                        <div class="loading-spinner"></div>
                    </div>
                </div>
                <div class="w-full md:flex-1 text-center md:text-left">
                    <span class="text-gold font-bold text-base md:text-lg mb-2 block">02 / メンテナンスフリー</span>
                    <h3 class="serif text-xl md:text-3xl mb-4">一生、電池交換はいらない。<br>高効率ソーラー駆動。</h3>
                    <p class="text-gray-600 text-sm md:text-base leading-relaxed">
                        独自開発の薄型ソーラーパネルが、室内のわずかな光でもエネルギーに変換。
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Closing & Action -->
    <section id="cta" class="py-16 md:py-24 bg-navy text-white text-center">
        <div class="container mx-auto px-4 md:px-6">
            <h2 class="serif text-2xl md:text-5xl mb-8 md:mb-12">あなたの「時間」に、誇りを。</h2>
            <div class="max-w-2xl mx-auto bg-white/5 p-6 md:p-10 rounded-2xl border border-white/10 glass-card">
                <h3 class="text-lg md:text-2xl font-bold mb-3 text-gold">Kitamura Digital Watch Premium</h3>
                <div class="text-3xl md:text-4xl serif font-bold mb-6">¥39,800 <span class="text-xs md:text-sm font-normal text-gray-400">(税込)</span></div>
                <button class="btn-gold w-full py-4 md:py-6 rounded-full text-lg md:text-2xl font-bold shadow-lg mb-6">
                    今すぐ購入する
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-500 py-10 md:py-12 px-6 text-center text-xs">
        <p class="mb-4 serif text-gold tracking-widest uppercase text-sm">KITAMURA DIGITAL</p>
        <p>&copy; 2024 Kitamura Watch Co., Ltd. All Rights Reserved.</p>
    </footer>

    <script>
        const apiKey = ""; // 実行環境から自動的に提供されます

        /**
         * 指数バックオフを用いた画像生成関数
         */
        async function generateImageWithRetry(promptText, elementId, retries = 5) {
            const element = document.getElementById(elementId);
            const loader = element.tagName === 'IMG' ? document.getElementById('loader-hero') : element.querySelector('.loading-spinner');
            
            const url = `https://generativelanguage.googleapis.com/v1beta/models/imagen-4.0-generate-001:predict?key=${apiKey}`;
            const payload = {
                instances: [{ prompt: promptText }],
                parameters: { sampleCount: 1 }
            };

            for (let i = 0; i < retries; i++) {
                try {
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (response.ok) {
                        const result = await response.json();
                        const base64Data = result.predictions[0].bytesBase64Encoded;
                        const imageUrl = `data:image/png;base64,${base64Data}`;

                        if (element.tagName === 'IMG') {
                            element.src = imageUrl;
                            element.classList.remove('hidden');
                            if (loader) loader.classList.add('hidden');
                        } else {
                            element.innerHTML = `<img src="${imageUrl}" class="w-full h-full object-cover" alt="Generated visual">`;
                        }
                        return; // 成功したら終了
                    }
                    
                    if (response.status === 429 || response.status >= 500) {
                        // 429 (Too Many Requests) または 5xx エラーの場合はリトライ
                        const delay = Math.pow(2, i) * 1000;
                        await new Promise(res => setTimeout(res, delay));
                        continue;
                    }
                    
                    throw new Error(`HTTP ${response.status}`);
                } catch (error) {
                    if (i === retries - 1) {
                        console.error(`Final attempt for ${elementId} failed:`, error);
                        element.innerHTML = `<div class="p-8 text-center text-gray-500 text-[10px]">画像を取得できませんでした。</div>`;
                    }
                }
            }
        }

        window.onload = function() {
            // メイン画像の生成
            generateImageWithRetry(
                "A luxurious close-up of a premium digital watch for a 50-year-old man. Dark metal casing, ultra-clear digital display, resting on a sophisticated office desk. Professional photography, high-end feel, 8k resolution.",
                "main-watch-img"
            );

            // 特徴1画像の生成
            generateImageWithRetry(
                "A macro close-up of a digital watch face displaying precision time with subtle blue glow representing atomic clock synchronization.",
                "feature-img-1"
            );

            // 特徴2画像の生成
            generateImageWithRetry(
                "High-end solar watch capturing bright sunlight. Close up on the watch face with visible subtle solar cell pattern.",
                "feature-img-2"
            );
        };

        // スムーズスクロール
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                if(targetId === '#') return;
                document.querySelector(targetId).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html>
